<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Wasabi: WImage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wasabi
   </div>
   <div id="projectbrief">Wasabi Vulkan Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_w_image-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">WImage Class Reference<div class="ingroups"><a class="el" href="group__engineclass.html">Main Engine Classes</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_w_image_8h_source.html">WImage.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for WImage:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_w_image.png" usemap="#WImage_map" alt=""/>
  <map id="WImage_map" name="WImage_map">
<area href="class_w_base.html" alt="WBase" shape="rect" coords="0,0,56,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a722e42f803663d7da037d3ee176c0795"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a722e42f803663d7da037d3ee176c0795"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WImage</b> (class <a class="el" href="class_wasabi.html">Wasabi</a> *const app, unsigned int ID=0)</td></tr>
<tr class="separator:a722e42f803663d7da037d3ee176c0795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa862e77190c45d44bb7f85c533e2f904"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_w_error.html">WError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#aa862e77190c45d44bb7f85c533e2f904">CreateFromPixelsArray</a> (void *pixels, unsigned int width, unsigned int height, bool bDynamic=false, unsigned int num_components=4, VkFormat fmt=VK_FORMAT_UNDEFINED, size_t comp_size=sizeof(float))</td></tr>
<tr class="separator:aa862e77190c45d44bb7f85c533e2f904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d1efcd67a36409078e0c272d083cd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_w_error.html">WError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a91d1efcd67a36409078e0c272d083cd6">Load</a> (std::string filename, bool bDynamic=false)</td></tr>
<tr class="separator:a91d1efcd67a36409078e0c272d083cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f98ef15574190d2b3a9227856793eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_w_error.html">WError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a86f98ef15574190d2b3a9227856793eb">CopyFrom</a> (<a class="el" href="class_w_image.html">WImage</a> *const image)</td></tr>
<tr class="separator:a86f98ef15574190d2b3a9227856793eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70fb21d3dde372d2eabb648e66ea349e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_w_error.html">WError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a70fb21d3dde372d2eabb648e66ea349e">MapPixels</a> (void **const pixels, bool bReadOnly=false)</td></tr>
<tr class="separator:a70fb21d3dde372d2eabb648e66ea349e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b424c2a8219bf23d37affa60799ae5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a0b424c2a8219bf23d37affa60799ae5f">UnmapPixels</a> ()</td></tr>
<tr class="separator:a0b424c2a8219bf23d37affa60799ae5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a76f1c54255e68434fd208decb9de0"><td class="memItemLeft" align="right" valign="top">VkImageView&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#ab8a76f1c54255e68434fd208decb9de0">GetView</a> () const </td></tr>
<tr class="separator:ab8a76f1c54255e68434fd208decb9de0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c63c3e4e07871efdca9f37d457e0b7"><td class="memItemLeft" align="right" valign="top">VkImageLayout&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a83c63c3e4e07871efdca9f37d457e0b7">GetViewLayout</a> () const </td></tr>
<tr class="separator:a83c63c3e4e07871efdca9f37d457e0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d5bbdb5cd50729a181fe50955ca06f"><td class="memItemLeft" align="right" valign="top">VkFormat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#af3d5bbdb5cd50729a181fe50955ca06f">GetFormat</a> () const </td></tr>
<tr class="separator:af3d5bbdb5cd50729a181fe50955ca06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651acf0e9437ba836cdddc830087a869"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a651acf0e9437ba836cdddc830087a869">GetWidth</a> () const </td></tr>
<tr class="separator:a651acf0e9437ba836cdddc830087a869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bfdcbe984e948e4c96af8d13a095df"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a69bfdcbe984e948e4c96af8d13a095df">GetHeight</a> () const </td></tr>
<tr class="separator:a69bfdcbe984e948e4c96af8d13a095df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9783a0d2b9820ed3891be545a7fe2eea"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a9783a0d2b9820ed3891be545a7fe2eea">GetNumComponents</a> () const </td></tr>
<tr class="separator:a9783a0d2b9820ed3891be545a7fe2eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68e11d29d25b6214a5738683ca627fce"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a68e11d29d25b6214a5738683ca627fce">GetComponentSize</a> () const </td></tr>
<tr class="separator:a68e11d29d25b6214a5738683ca627fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5c549db8ccd23101c3dc484867a7bc"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#a3a5c549db8ccd23101c3dc484867a7bc">GetPixelSize</a> () const </td></tr>
<tr class="separator:a3a5c549db8ccd23101c3dc484867a7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f023d4ce03cf73888f5a9186c4771a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_image.html#ac5f023d4ce03cf73888f5a9186c4771a">Valid</a> () const </td></tr>
<tr class="separator:ac5f023d4ce03cf73888f5a9186c4771a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_w_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_w_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_w_base.html">WBase</a></td></tr>
<tr class="memitem:aa2d5f627a127f4ef0d476cd0e5c38d62 inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa2d5f627a127f4ef0d476cd0e5c38d62"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WBase</b> (class <a class="el" href="class_wasabi.html">Wasabi</a> *const app, unsigned int ID=0)</td></tr>
<tr class="separator:aa2d5f627a127f4ef0d476cd0e5c38d62 inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a943b0b7eee35fcd055ffb86aad44954a inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#a943b0b7eee35fcd055ffb86aad44954a">SetID</a> (unsigned int newID)</td></tr>
<tr class="separator:a943b0b7eee35fcd055ffb86aad44954a inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae16f9cfcd459f3430dfc0282c60fdeb3 inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#ae16f9cfcd459f3430dfc0282c60fdeb3">GetID</a> () const </td></tr>
<tr class="separator:ae16f9cfcd459f3430dfc0282c60fdeb3 inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc4e4bb84a5fc22e53116ee805b9b9e inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="class_wasabi.html">Wasabi</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#a6dc4e4bb84a5fc22e53116ee805b9b9e">GetAppPtr</a> () const </td></tr>
<tr class="separator:a6dc4e4bb84a5fc22e53116ee805b9b9e inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ebce7e237d312d5b243dda89ae10e0 inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#a40ebce7e237d312d5b243dda89ae10e0">SetName</a> (std::string name)</td></tr>
<tr class="separator:a40ebce7e237d312d5b243dda89ae10e0 inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7733e483368450c774846a57e4336e2 inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#ad7733e483368450c774846a57e4336e2">GetName</a> () const </td></tr>
<tr class="separator:ad7733e483368450c774846a57e4336e2 inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26548bcc0f7b430ef93d9b359836185a inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#a26548bcc0f7b430ef93d9b359836185a">AddReference</a> ()</td></tr>
<tr class="separator:a26548bcc0f7b430ef93d9b359836185a inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8917d59438e0ebd8352ef55497ff5be0 inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#a8917d59438e0ebd8352ef55497ff5be0">RemoveReference</a> ()</td></tr>
<tr class="separator:a8917d59438e0ebd8352ef55497ff5be0 inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac01552198b0ac5874d79dc482f09357c inherit pub_methods_class_w_base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#ac01552198b0ac5874d79dc482f09357c">SetManager</a> (void *mgr)</td></tr>
<tr class="separator:ac01552198b0ac5874d79dc482f09357c inherit pub_methods_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_w_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_w_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_w_base.html">WBase</a></td></tr>
<tr class="memitem:a1650fafeaee7a217a863b79e9bba9a08 inherit pro_attribs_class_w_base"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="class_wasabi.html">Wasabi</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_base.html#a1650fafeaee7a217a863b79e9bba9a08">m_app</a></td></tr>
<tr class="separator:a1650fafeaee7a217a863b79e9bba9a08 inherit pro_attribs_class_w_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represents an image, or texture, used by <a class="el" href="class_wasabi.html">Wasabi</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a86f98ef15574190d2b3a9227856793eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_w_error.html">WError</a> WImage::CopyFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_w_image.html">WImage</a> *const&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy another <a class="el" href="class_w_image.html">WImage</a>. Only images created with bDynamic == true can be copied. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>Pointer to the image to copy from, which should be dynamic </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code, see <a class="el" href="_w_error_8h.html" title="Error codes implementation. ">WError.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa862e77190c45d44bb7f85c533e2f904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_w_error.html">WError</a> WImage::CreateFromPixelsArray </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bDynamic</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_components</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VkFormat&#160;</td>
          <td class="paramname"><em>fmt</em> = <code>VK_FORMAT_UNDEFINED</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>comp_size</em> = <code>sizeof(float)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates the image from an array of pixels. The array of pixels need to be in the same format specified, using the same component size and the same number of components.</p>
<p>If fmt is VK_FORMAT_UNDEFINED, then the format will be chosen as follows:</p><ul>
<li>num_components == 1: VK_FORMAT_R32_SFLOAT</li>
<li>num_components == 2: VK_FORMAT_R32G32_SFLOAT</li>
<li>num_components == 3: VK_FORMAT_R32G32B32_SFLOAT</li>
<li>num_components == 4: VK_FORMAT_R32G32B32A32_SFLOAT</li>
</ul>
<p>Meaning that each pixel in the pixels array will be expected to be <em>num_components</em> consecutive floats.</p>
<p>Examples: A 64x64 image with a 4-component floating-point pixel. </p><div class="fragment"><div class="line"><a class="code" href="class_w_image.html">WImage</a>* img = <span class="keyword">new</span> <a class="code" href="class_w_image.html">WImage</a>(<span class="keyword">this</span>);</div><div class="line"><span class="keywordtype">float</span>* pixels = <span class="keyword">new</span> <span class="keywordtype">float</span>[64*64*4]; <span class="comment">// (64x64 image, 4 components each)</span></div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; 64; y++) {</div><div class="line">     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; 64; x++) {</div><div class="line">         <span class="comment">// Each 4 floats in pixels is one pixel. So pixels[0] to pixels[3] is</span></div><div class="line">         <span class="comment">// the first pixel, pixels[4] to pixels[7] is the second, etc...</span></div><div class="line">         <span class="comment">// So to get the index into the pixels using x and y coordinates, we</span></div><div class="line">         <span class="comment">// use the regular &quot;index = y * width + x&quot; but we multiply it by 4 to</span></div><div class="line">         <span class="comment">// have &quot;index = y * width * 4 + x * 4&quot; so that we account for having</span></div><div class="line">         <span class="comment">// 4 components each pixel</span></div><div class="line">         pixels[(y*64+x)*4 + 0] = 0.1f; <span class="comment">// red component at (x, y)</span></div><div class="line">         pixels[(y*64+x)*4 + 1] = 0.4f; <span class="comment">// green component at (x, y)</span></div><div class="line">         pixels[(y*64+x)*4 + 2] = 1.0f; <span class="comment">// blue component at (x, y)</span></div><div class="line">         pixels[(y*64+x)*4 + 3] = 1.0f; <span class="comment">// alpha component at (x, y)</span></div><div class="line">     }</div><div class="line">}</div><div class="line">img-&gt;<a class="code" href="class_w_image.html#aa862e77190c45d44bb7f85c533e2f904">CreateFromPixelsArray</a>(pixels, 64, 64);</div><div class="line"><span class="keyword">delete</span>[] pixels;</div></div><!-- fragment --><p> Same as the above example, but using <a class="el" href="class_w_color.html">WColor</a> for easier access and more readability. </p><div class="fragment"><div class="line"><a class="code" href="class_w_image.html">WImage</a>* img = <span class="keyword">new</span> <a class="code" href="class_w_image.html">WImage</a>(<span class="keyword">this</span>);</div><div class="line"><a class="code" href="class_w_color.html">WColor</a>* pixels = <span class="keyword">new</span> <a class="code" href="class_w_color.html">WColor</a>[64*64];</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; 64; y++) {</div><div class="line">     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; 64; x++) {</div><div class="line">         pixels[y*64+x] = <a class="code" href="class_w_color.html">WColor</a>(0.1f, 0.4f, 1.0f, 1.0f);</div><div class="line">     }</div><div class="line">}</div><div class="line">img-&gt;<a class="code" href="class_w_image.html#aa862e77190c45d44bb7f85c533e2f904">CreateFromPixelsArray</a>(pixels, 64, 64);</div><div class="line"><span class="keyword">delete</span>[] pixels;</div></div><!-- fragment --><p> Creating a 32x32, 2 component UNORM format image. </p><div class="fragment"><div class="line"><a class="code" href="class_w_image.html">WImage</a>* img = <span class="keyword">new</span> <a class="code" href="class_w_image.html">WImage</a>(<span class="keyword">this</span>);</div><div class="line"><span class="keywordtype">char</span>* pixels = <span class="keyword">new</span> <span class="keywordtype">char</span>[32*32*2];</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; 32; y++) {</div><div class="line">     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; 32; x++) {</div><div class="line">         pixels[(y*64+x)*2 + 0] = 0;</div><div class="line">         pixels[(y*64+x)*2 + 1] = 255;</div><div class="line">     }</div><div class="line">}</div><div class="line"><span class="comment">// 2 components, each one is 1 byte (sizeof (char)) and the format is</span></div><div class="line"><span class="comment">// VK_FORMAT_R8G8_UNORM (so it is 0-255 in memory and 0.0-1.0 when passed</span></div><div class="line"><span class="comment">// to the GPU).</span></div><div class="line">img-&gt;<a class="code" href="class_w_image.html#aa862e77190c45d44bb7f85c533e2f904">CreateFromPixelsArray</a>(pixels, 32, 32, <span class="keyword">false</span>, 2</div><div class="line">                           VK_FORMAT_R8G8_UNORM, 1);</div><div class="line"><span class="keyword">delete</span>[] pixels;</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixels</td><td>A pointer to the memory containing the pixels </td></tr>
    <tr><td class="paramname">width</td><td>Width of the image </td></tr>
    <tr><td class="paramname">height</td><td>Height of the image </td></tr>
    <tr><td class="paramname">bDynamic</td><td>Should be set to true for images that will be modified in the future (via <a class="el" href="class_w_image.html#a70fb21d3dde372d2eabb648e66ea349e">MapPixels()</a> and <a class="el" href="class_w_image.html#a0b424c2a8219bf23d37affa60799ae5f">UnmapPixels()</a>). Setting this to true results in using more memory </td></tr>
    <tr><td class="paramname">num_components</td><td>Number of components of each pixel in pixels ( valid values are 1, 2, 3 and 4) </td></tr>
    <tr><td class="paramname">fmt</td><td>If set to VK_FORMAT_UNDEFINED, the image format will be chosen automatically, otherwise fmt will be used </td></tr>
    <tr><td class="paramname">comp_size</td><td>The size of each component (in bytes) of a pixel in the pixels array. This should only be used if fmt is not VK_FORMAT_UNDEFINED, otherwise it should be 4 (sizeof (float)) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code, see <a class="el" href="_w_error_8h.html" title="Error codes implementation. ">WError.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a68e11d29d25b6214a5738683ca627fce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int WImage::GetComponentSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the size of each component in a pixel. </p><dl class="section return"><dt>Returns</dt><dd>Size of a component, in bytes </dd></dl>

</div>
</div>
<a class="anchor" id="af3d5bbdb5cd50729a181fe50955ca06f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VkFormat WImage::GetFormat </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the Vulkan format used for this image. </p><dl class="section return"><dt>Returns</dt><dd>The format of the image </dd></dl>

</div>
</div>
<a class="anchor" id="a69bfdcbe984e948e4c96af8d13a095df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int WImage::GetHeight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the height of the image. </p><dl class="section return"><dt>Returns</dt><dd>Height of the image, in pixels </dd></dl>

</div>
</div>
<a class="anchor" id="a9783a0d2b9820ed3891be545a7fe2eea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int WImage::GetNumComponents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the number of components in each pixels of this image. </p><dl class="section return"><dt>Returns</dt><dd>Number of components per pixel </dd></dl>

</div>
</div>
<a class="anchor" id="a3a5c549db8ccd23101c3dc484867a7bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int WImage::GetPixelSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the size of a pixel in this image. </p><dl class="section return"><dt>Returns</dt><dd>Size of a pixel, in bytes </dd></dl>

</div>
</div>
<a class="anchor" id="ab8a76f1c54255e68434fd208decb9de0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VkImageView WImage::GetView </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the Vulkan image view object for this image. </p><dl class="section return"><dt>Returns</dt><dd>The image view </dd></dl>

</div>
</div>
<a class="anchor" id="a83c63c3e4e07871efdca9f37d457e0b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VkImageLayout WImage::GetViewLayout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the Vulkan image layout for the image view. </p><dl class="section return"><dt>Returns</dt><dd>The image view layout </dd></dl>

</div>
</div>
<a class="anchor" id="a651acf0e9437ba836cdddc830087a869"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int WImage::GetWidth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the width of the image. </p><dl class="section return"><dt>Returns</dt><dd>Width of the image, in pixels </dd></dl>

</div>
</div>
<a class="anchor" id="a91d1efcd67a36409078e0c272d083cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_w_error.html">WError</a> WImage::Load </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bDynamic</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads an image from a file. The image format can be any of the formats supported by the stb library (includes .png, .jpg, .tga, .bmp). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of the file to load </td></tr>
    <tr><td class="paramname">bDynamic</td><td>Should be set to true for images that will be modified in the future (via <a class="el" href="class_w_image.html#a70fb21d3dde372d2eabb648e66ea349e">MapPixels()</a> and <a class="el" href="class_w_image.html#a0b424c2a8219bf23d37affa60799ae5f">UnmapPixels()</a>). Setting this to true results in using more memory </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code, see <a class="el" href="_w_error_8h.html" title="Error codes implementation. ">WError.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a70fb21d3dde372d2eabb648e66ea349e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_w_error.html">WError</a> WImage::MapPixels </td>
          <td>(</td>
          <td class="paramtype">void **const&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bReadOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maps the pixels of the image for reading or writing. Only images created with bDynamic == true can be mapped.</p>
<p>Examples: </p><div class="fragment"><div class="line"><a class="code" href="class_w_color.html">WColor</a>* pixels; <span class="comment">// Assuming the image is 4 components float-point format</span></div><div class="line">img-&gt;<a class="code" href="class_w_image.html#a70fb21d3dde372d2eabb648e66ea349e">MapPixels</a>((<span class="keywordtype">void</span>**)&amp;pixels);</div><div class="line"><span class="comment">// Change the pixel at index 10 to full red</span></div><div class="line">pixels[10] = <a class="code" href="class_w_color.html">WColor</a>(1.0f, 0.0f, 0.0f, 1.0f);</div><div class="line">img-&gt;<a class="code" href="class_w_image.html#a0b424c2a8219bf23d37affa60799ae5f">UnmapPixels</a>();</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixels</td><td>The address of a pointer to have it point to the mapped memory of the pixels </td></tr>
    <tr><td class="paramname">bReadOnly</td><td>Set to true if you intend to only read from the pixels array, false if you want to modify the pixels </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code, see <a class="el" href="_w_error_8h.html" title="Error codes implementation. ">WError.h</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0b424c2a8219bf23d37affa60799ae5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WImage::UnmapPixels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unmaps pixels from a previous <a class="el" href="class_w_image.html#a70fb21d3dde372d2eabb648e66ea349e">MapPixels()</a> call. If MapPixels was called with bReadOnly set to false, this will apply the changes to the image. </p>

</div>
</div>
<a class="anchor" id="ac5f023d4ce03cf73888f5a9186c4771a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WImage::Valid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true if the image is valid. The image is valid if it has a usable Vulkan image view. </p><dl class="section return"><dt>Returns</dt><dd>true if the image is valid, false otherwise </dd></dl>

<p>Implements <a class="el" href="class_w_base.html#a76ac973ba9a43e182f6a6a4869d69725">WBase</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Wasabi/Images/<a class="el" href="_w_image_8h_source.html">WImage.h</a></li>
<li>Wasabi/Images/WImage.cpp</li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
