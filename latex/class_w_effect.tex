\hypertarget{class_w_effect}{}\section{W\+Effect Class Reference}
\label{class_w_effect}\index{W\+Effect@{W\+Effect}}


{\ttfamily \#include $<$W\+Effect.\+h$>$}

Inheritance diagram for W\+Effect\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_w_effect}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries W\+Effect} (class \hyperlink{class_wasabi}{Wasabi} $\ast$const app, unsigned int ID=0)\hypertarget{class_w_effect_addcce5db6fcd74630a19bb8a849aac8b}{}\label{class_w_effect_addcce5db6fcd74630a19bb8a849aac8b}

\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_effect_a8d10167b5c583f2407024c442c1f3b1f}{Bind\+Shader} (\hyperlink{class_w_shader}{W\+Shader} $\ast$shader)
\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_effect_ad176b710ed263f887115fa5221e261ac}{Unbind\+Shader} (\hyperlink{group__engineclass_ga8a79e4a3a441c88450e176150102c7b7}{W\+\_\+\+S\+H\+A\+D\+E\+R\+\_\+\+T\+Y\+PE} type)
\item 
void \hyperlink{class_w_effect_a98c52a678d4327226858f15b28a9c0b4}{Set\+Primitive\+Topology} (Vk\+Primitive\+Topology topology)
\item 
void \hyperlink{class_w_effect_a27b3931516c6099f074bc1fb6d224c59}{Set\+Blending\+State} (Vk\+Pipeline\+Color\+Blend\+Attachment\+State state)
\item 
void \hyperlink{class_w_effect_ab8c15d5f415d978e21328c3e06b74bdd}{Set\+Depth\+Stencil\+State} (Vk\+Pipeline\+Depth\+Stencil\+State\+Create\+Info state)
\item 
void \hyperlink{class_w_effect_a03de477bc7c26690a39e7750ac36a958}{Set\+Rasterization\+State} (Vk\+Pipeline\+Rasterization\+State\+Create\+Info state)
\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_effect_a3a23db5f72658be47397a877552a78fd}{Build\+Pipeline} (class \hyperlink{class_w_render_target}{W\+Render\+Target} $\ast$rt)
\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_effect_a5a509abbadaeb121acdb0e6dd4ff1ece}{Bind} (class \hyperlink{class_w_render_target}{W\+Render\+Target} $\ast$rt, unsigned int num\+\_\+vertex\+\_\+buffers=-\/1)
\item 
Vk\+Pipeline\+Layout $\ast$ \hyperlink{class_w_effect_aab781ff42dd7a883eeacf480d7bf6d70}{Get\+Pipeline\+Layout} ()
\item 
Vk\+Descriptor\+Set\+Layout $\ast$ \hyperlink{class_w_effect_a6d39025e7c628d8613d7239d87fa1379}{Get\+Descriptor\+Set\+Layout} ()
\item 
\hyperlink{struct_w___i_n_p_u_t___l_a_y_o_u_t}{W\+\_\+\+I\+N\+P\+U\+T\+\_\+\+L\+A\+Y\+O\+UT} \hyperlink{class_w_effect_a5cbd6275cd4cc982ef52a99a9e52a02b}{Get\+Input\+Layout} (unsigned int layout\+\_\+index=0) const 
\item 
virtual bool \hyperlink{class_w_effect_adc72bd6b182485f26e2e566914419224}{Valid} () const 
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class {\bfseries W\+Material}\hypertarget{class_w_effect_a82829be2ace0f839dd132dface8a4da3}{}\label{class_w_effect_a82829be2ace0f839dd132dface8a4da3}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
A \hyperlink{class_w_effect}{W\+Effect} is a container for shaders, rendering states, and the Vulkan graphics (or compute) pipeline. An effect specifies how rendering of geometry is to be done. More generally, an effect controls all stages of a Vulkan pipeline. 

\subsection{Member Function Documentation}
\index{W\+Effect@{W\+Effect}!Bind@{Bind}}
\index{Bind@{Bind}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Bind(class W\+Render\+Target $\ast$rt, unsigned int num\+\_\+vertex\+\_\+buffers=-\/1)}{Bind(class WRenderTarget *rt, unsigned int num_vertex_buffers=-1)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Effect\+::\+Bind (
\begin{DoxyParamCaption}
\item[{class {\bf W\+Render\+Target} $\ast$}]{rt, }
\item[{unsigned int}]{num\+\_\+vertex\+\_\+buffers = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_a5a509abbadaeb121acdb0e6dd4ff1ece}{}\label{class_w_effect_a5a509abbadaeb121acdb0e6dd4ff1ece}
Binds the effect to render command buffer of the specified render target. The render target must have its Begin() function called before this function is called. 
\begin{DoxyParams}{Parameters}
{\em rt} & Render target to bind to its command buffer \\
\hline
{\em num\+\_\+vertex\+\_\+buffers} & Number of vertex buffers that the effect should expect to be bound on the pipeline, value values are between 1 and the number of input layouts supplied from the shaders (or 0 if no input layouts are present) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Effect@{W\+Effect}!Bind\+Shader@{Bind\+Shader}}
\index{Bind\+Shader@{Bind\+Shader}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Bind\+Shader(\+W\+Shader $\ast$shader)}{BindShader(WShader *shader)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Effect\+::\+Bind\+Shader (
\begin{DoxyParamCaption}
\item[{{\bf W\+Shader} $\ast$}]{shader}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_a8d10167b5c583f2407024c442c1f3b1f}{}\label{class_w_effect_a8d10167b5c583f2407024c442c1f3b1f}
Binds a shader to this effect. 
\begin{DoxyParams}{Parameters}
{\em shader} & New shader to bind \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Effect@{W\+Effect}!Build\+Pipeline@{Build\+Pipeline}}
\index{Build\+Pipeline@{Build\+Pipeline}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Build\+Pipeline(class W\+Render\+Target $\ast$rt)}{BuildPipeline(class WRenderTarget *rt)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Effect\+::\+Build\+Pipeline (
\begin{DoxyParamCaption}
\item[{class {\bf W\+Render\+Target} $\ast$}]{rt}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_a3a23db5f72658be47397a877552a78fd}{}\label{class_w_effect_a3a23db5f72658be47397a877552a78fd}
Builds Vulkan pipelines corresponding to the currently bound shaders and Vulkan states. This function will build several pipelines for different numbers of input layout supplied by the shaders. For instance, a shader with two input layouts will have two pipelines, one that only uses one input layout and another that uses both. This is done to provide convenience when one wishes to use the same effect without supplying all required vertex shaders. 
\begin{DoxyParams}{Parameters}
{\em rt} & Render target that the effect plans on rendering to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Effect@{W\+Effect}!Get\+Descriptor\+Set\+Layout@{Get\+Descriptor\+Set\+Layout}}
\index{Get\+Descriptor\+Set\+Layout@{Get\+Descriptor\+Set\+Layout}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Get\+Descriptor\+Set\+Layout()}{GetDescriptorSetLayout()}}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Descriptor\+Set\+Layout $\ast$ W\+Effect\+::\+Get\+Descriptor\+Set\+Layout (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_a6d39025e7c628d8613d7239d87fa1379}{}\label{class_w_effect_a6d39025e7c628d8613d7239d87fa1379}
Retrieves the Vulkan descriptor set layout. \begin{DoxyReturn}{Returns}
The Vulkan descriptor set layout 
\end{DoxyReturn}
\index{W\+Effect@{W\+Effect}!Get\+Input\+Layout@{Get\+Input\+Layout}}
\index{Get\+Input\+Layout@{Get\+Input\+Layout}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Get\+Input\+Layout(unsigned int layout\+\_\+index=0) const }{GetInputLayout(unsigned int layout_index=0) const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+\_\+\+I\+N\+P\+U\+T\+\_\+\+L\+A\+Y\+O\+UT} W\+Effect\+::\+Get\+Input\+Layout (
\begin{DoxyParamCaption}
\item[{unsigned int}]{layout\+\_\+index = {\ttfamily 0}}
\end{DoxyParamCaption}
) const}\hypertarget{class_w_effect_a5cbd6275cd4cc982ef52a99a9e52a02b}{}\label{class_w_effect_a5cbd6275cd4cc982ef52a99a9e52a02b}
Retrieves an input layout supplied by one of the bound shaders. 
\begin{DoxyParams}{Parameters}
{\em layout\+\_\+index} & Index of the layout requested \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The input layout at layout\+\_\+index supplied by bound shaders 
\end{DoxyReturn}
\index{W\+Effect@{W\+Effect}!Get\+Pipeline\+Layout@{Get\+Pipeline\+Layout}}
\index{Get\+Pipeline\+Layout@{Get\+Pipeline\+Layout}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Get\+Pipeline\+Layout()}{GetPipelineLayout()}}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Pipeline\+Layout $\ast$ W\+Effect\+::\+Get\+Pipeline\+Layout (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_aab781ff42dd7a883eeacf480d7bf6d70}{}\label{class_w_effect_aab781ff42dd7a883eeacf480d7bf6d70}
Retrieves the layout of the pipelines created by this effect. \begin{DoxyReturn}{Returns}
The Vulkan pipeline layout for the effect\textquotesingle{}s pipelines 
\end{DoxyReturn}
\index{W\+Effect@{W\+Effect}!Set\+Blending\+State@{Set\+Blending\+State}}
\index{Set\+Blending\+State@{Set\+Blending\+State}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Set\+Blending\+State(\+Vk\+Pipeline\+Color\+Blend\+Attachment\+State state)}{SetBlendingState(VkPipelineColorBlendAttachmentState state)}}]{\setlength{\rightskip}{0pt plus 5cm}void W\+Effect\+::\+Set\+Blending\+State (
\begin{DoxyParamCaption}
\item[{Vk\+Pipeline\+Color\+Blend\+Attachment\+State}]{state}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_a27b3931516c6099f074bc1fb6d224c59}{}\label{class_w_effect_a27b3931516c6099f074bc1fb6d224c59}
Sets the blending state in the Vulkan pipeline. This needs to be called before \hyperlink{class_w_effect_a3a23db5f72658be47397a877552a78fd}{Build\+Pipeline()} for changes to be effective. 
\begin{DoxyParams}{Parameters}
{\em state} & The new Vulkan Blend state \\
\hline
\end{DoxyParams}
\index{W\+Effect@{W\+Effect}!Set\+Depth\+Stencil\+State@{Set\+Depth\+Stencil\+State}}
\index{Set\+Depth\+Stencil\+State@{Set\+Depth\+Stencil\+State}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Set\+Depth\+Stencil\+State(\+Vk\+Pipeline\+Depth\+Stencil\+State\+Create\+Info state)}{SetDepthStencilState(VkPipelineDepthStencilStateCreateInfo state)}}]{\setlength{\rightskip}{0pt plus 5cm}void W\+Effect\+::\+Set\+Depth\+Stencil\+State (
\begin{DoxyParamCaption}
\item[{Vk\+Pipeline\+Depth\+Stencil\+State\+Create\+Info}]{state}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_ab8c15d5f415d978e21328c3e06b74bdd}{}\label{class_w_effect_ab8c15d5f415d978e21328c3e06b74bdd}
Sets the depth stencil state in the Vulkan pipeline. This needs to be called before \hyperlink{class_w_effect_a3a23db5f72658be47397a877552a78fd}{Build\+Pipeline()} for changes to be effective. 
\begin{DoxyParams}{Parameters}
{\em state} & The new Vulkan depth stencil state \\
\hline
\end{DoxyParams}
\index{W\+Effect@{W\+Effect}!Set\+Primitive\+Topology@{Set\+Primitive\+Topology}}
\index{Set\+Primitive\+Topology@{Set\+Primitive\+Topology}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Set\+Primitive\+Topology(\+Vk\+Primitive\+Topology topology)}{SetPrimitiveTopology(VkPrimitiveTopology topology)}}]{\setlength{\rightskip}{0pt plus 5cm}void W\+Effect\+::\+Set\+Primitive\+Topology (
\begin{DoxyParamCaption}
\item[{Vk\+Primitive\+Topology}]{topology}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_a98c52a678d4327226858f15b28a9c0b4}{}\label{class_w_effect_a98c52a678d4327226858f15b28a9c0b4}
Sets the primitive topology in the Vulkan pipeline. This needs to be called before \hyperlink{class_w_effect_a3a23db5f72658be47397a877552a78fd}{Build\+Pipeline()} for changes to be effective. 
\begin{DoxyParams}{Parameters}
{\em topology} & The new Vulkan primitive topology \\
\hline
\end{DoxyParams}
\index{W\+Effect@{W\+Effect}!Set\+Rasterization\+State@{Set\+Rasterization\+State}}
\index{Set\+Rasterization\+State@{Set\+Rasterization\+State}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Set\+Rasterization\+State(\+Vk\+Pipeline\+Rasterization\+State\+Create\+Info state)}{SetRasterizationState(VkPipelineRasterizationStateCreateInfo state)}}]{\setlength{\rightskip}{0pt plus 5cm}void W\+Effect\+::\+Set\+Rasterization\+State (
\begin{DoxyParamCaption}
\item[{Vk\+Pipeline\+Rasterization\+State\+Create\+Info}]{state}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_a03de477bc7c26690a39e7750ac36a958}{}\label{class_w_effect_a03de477bc7c26690a39e7750ac36a958}
Sets the rasterization state in the Vulkan pipeline. This needs to be called before \hyperlink{class_w_effect_a3a23db5f72658be47397a877552a78fd}{Build\+Pipeline()} for changes to be effective. 
\begin{DoxyParams}{Parameters}
{\em state} & The new Vulkan rasterization state \\
\hline
\end{DoxyParams}
\index{W\+Effect@{W\+Effect}!Unbind\+Shader@{Unbind\+Shader}}
\index{Unbind\+Shader@{Unbind\+Shader}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Unbind\+Shader(\+W\+\_\+\+S\+H\+A\+D\+E\+R\+\_\+\+T\+Y\+P\+E type)}{UnbindShader(W_SHADER_TYPE type)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Effect\+::\+Unbind\+Shader (
\begin{DoxyParamCaption}
\item[{{\bf W\+\_\+\+S\+H\+A\+D\+E\+R\+\_\+\+T\+Y\+PE}}]{type}
\end{DoxyParamCaption}
)}\hypertarget{class_w_effect_ad176b710ed263f887115fa5221e261ac}{}\label{class_w_effect_ad176b710ed263f887115fa5221e261ac}
Unbinds a shader from this effect. 
\begin{DoxyParams}{Parameters}
{\em type} & The type of the shader to unbind \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Effect@{W\+Effect}!Valid@{Valid}}
\index{Valid@{Valid}!W\+Effect@{W\+Effect}}
\subsubsection[{\texorpdfstring{Valid() const }{Valid() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool W\+Effect\+::\+Valid (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_w_effect_adc72bd6b182485f26e2e566914419224}{}\label{class_w_effect_adc72bd6b182485f26e2e566914419224}
Checks the validity of the effect. An effect is valid if it has at least one pipeline created and has a bound vertex shader that supplies a valid input layout. \begin{DoxyReturn}{Returns}
true if the effect is valid, false otherwise 
\end{DoxyReturn}


Implements \hyperlink{class_w_base_a76ac973ba9a43e182f6a6a4869d69725}{W\+Base}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Wasabi/\+Materials/\hyperlink{_w_effect_8h}{W\+Effect.\+h}\item 
Wasabi/\+Materials/W\+Effect.\+cpp\end{DoxyCompactItemize}
