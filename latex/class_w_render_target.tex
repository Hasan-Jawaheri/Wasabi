\hypertarget{class_w_render_target}{}\section{W\+Render\+Target Class Reference}
\label{class_w_render_target}\index{W\+Render\+Target@{W\+Render\+Target}}


{\ttfamily \#include $<$W\+Render\+Target.\+h$>$}

Inheritance diagram for W\+Render\+Target\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_w_render_target}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries W\+Render\+Target} (\hyperlink{class_wasabi}{Wasabi} $\ast$const app, unsigned int ID=0)\hypertarget{class_w_render_target_aa3193e686f69b5ac8b3821f66961960a}{}\label{class_w_render_target_aa3193e686f69b5ac8b3821f66961960a}

\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_render_target_a4add3962dd66d44afef07a8369a9a369}{Create} (unsigned int width, unsigned int height, class \hyperlink{class_w_image}{W\+Image} $\ast$target, bool b\+Depth=true, Vk\+Format depth\+Format=V\+K\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+D32\+\_\+\+S\+F\+L\+O\+A\+T\+\_\+\+S8\+\_\+\+U\+I\+NT)
\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_render_target_afd4e209874b0d57f3835d965219524ed}{Create} (unsigned int width, unsigned int height, Vk\+Image\+View $\ast$views, unsigned int num\+\_\+views, Vk\+Format color\+Format, Vk\+Format depth\+Format)
\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_render_target_a1110348b8fb60a856f4021acfbd40523}{Use\+Frame\+Buffer} (unsigned int index)
\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_render_target_a0702142781a9d85df02f7fe032401956}{Begin} ()
\item 
\hyperlink{class_w_error}{W\+Error} \hyperlink{class_w_render_target_abfd66b4b2d515afa49b50931f6593608}{End} (bool b\+Submit=true)
\item 
void \hyperlink{class_w_render_target_acfa19fb6b4cde2583b4e033436d29327}{Set\+Clear\+Color} (\hyperlink{class_w_color}{W\+Color} col)
\item 
void \hyperlink{class_w_render_target_a232081b0e953993dbedf3d647f900a92}{Set\+Camera} (class \hyperlink{class_w_camera}{W\+Camera} $\ast$cam)
\item 
Vk\+Render\+Pass \hyperlink{class_w_render_target_a059363651803990bb775610814ee2a3b}{Get\+Render\+Pass} () const 
\item 
Vk\+Pipeline\+Cache \hyperlink{class_w_render_target_a3058918a5781515e879d223f5bfc1269}{Get\+Pipeline\+Cache} () const 
\item 
Vk\+Command\+Buffer \hyperlink{class_w_render_target_a874520933dec63ca3ceeadb209f07628}{Get\+Commnad\+Buffer} () const 
\item 
class \hyperlink{class_w_camera}{W\+Camera} $\ast$ \hyperlink{class_w_render_target_a9387870adbd5924c46b003f8c17c4a59}{Get\+Camera} () const 
\item 
virtual bool \hyperlink{class_w_render_target_a47887a7010f64e5c16634d47eb6923a9}{Valid} () const 
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
This class represents a render target, which can be used to render things onto. A render target may be backed by a \hyperlink{class_w_image}{W\+Image}, in which case any rendering that happens on the render target will be reflected on that image, which can then be used normally. 

\subsection{Member Function Documentation}
\index{W\+Render\+Target@{W\+Render\+Target}!Begin@{Begin}}
\index{Begin@{Begin}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Begin()}{Begin()}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Render\+Target\+::\+Begin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_w_render_target_a0702142781a9d85df02f7fe032401956}{}\label{class_w_render_target_a0702142781a9d85df02f7fe032401956}
Begin recording renders on this render target. \begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Create@{Create}}
\index{Create@{Create}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Create(unsigned int width, unsigned int height, class W\+Image $\ast$target, bool b\+Depth=true, Vk\+Format depth\+Format=\+V\+K\+\_\+\+F\+O\+R\+M\+A\+T\+\_\+\+D32\+\_\+\+S\+F\+L\+O\+A\+T\+\_\+\+S8\+\_\+\+U\+I\+N\+T)}{Create(unsigned int width, unsigned int height, class WImage *target, bool bDepth=true, VkFormat depthFormat=VK_FORMAT_D32_SFLOAT_S8_UINT)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Render\+Target\+::\+Create (
\begin{DoxyParamCaption}
\item[{unsigned int}]{width, }
\item[{unsigned int}]{height, }
\item[{class {\bf W\+Image} $\ast$}]{target, }
\item[{bool}]{b\+Depth = {\ttfamily true}, }
\item[{Vk\+Format}]{depth\+Format = {\ttfamily VK\+\_\+FORMAT\+\_\+D32\+\_\+SFLOAT\+\_\+S8\+\_\+UINT}}
\end{DoxyParamCaption}
)}\hypertarget{class_w_render_target_a4add3962dd66d44afef07a8369a9a369}{}\label{class_w_render_target_a4add3962dd66d44afef07a8369a9a369}
Create a render target backed by a \hyperlink{class_w_image}{W\+Image}. The format of the render target will match that of the \hyperlink{class_w_image}{W\+Image}. The render target will have 1 attachment for color, and if b\+Depth == true, will have another attachment for depth. This function will cause exactly one frame buffer to be created.

Examples\+: 
\begin{DoxyCode}
rtImg = \textcolor{keyword}{new} \hyperlink{class_w_image}{WImage}(\textcolor{keyword}{this});
\textcolor{keywordtype}{char}* pixels = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[640 * 480 * 4];
rtImg->CreateFromPixelsArray(pixels, 640, 480, \textcolor{keyword}{false},
                             4, VK\_FORMAT\_R8G8B8A8\_UNORM, 1);
\textcolor{keyword}{delete}[] pixels;
rt = \textcolor{keyword}{new} \hyperlink{class_w_render_target}{WRenderTarget}(\textcolor{keyword}{this});
rt->Create(640, 480, rtImg);
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em width} & Width of the render target \\
\hline
{\em height} & Height of the render target \\
\hline
{\em target} & A pointer to a \hyperlink{class_w_image}{W\+Image} backing the render target \\
\hline
{\em b\+Depth} & true if the render target needs a depth attachment, false otherwise \\
\hline
{\em depth\+Format} & Format for the depth attachment, if b\+Depth == true \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Create@{Create}}
\index{Create@{Create}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Create(unsigned int width, unsigned int height, Vk\+Image\+View $\ast$views, unsigned int num\+\_\+views, Vk\+Format color\+Format, Vk\+Format depth\+Format)}{Create(unsigned int width, unsigned int height, VkImageView *views, unsigned int num_views, VkFormat colorFormat, VkFormat depthFormat)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Render\+Target\+::\+Create (
\begin{DoxyParamCaption}
\item[{unsigned int}]{width, }
\item[{unsigned int}]{height, }
\item[{Vk\+Image\+View $\ast$}]{views, }
\item[{unsigned int}]{num\+\_\+views, }
\item[{Vk\+Format}]{color\+Format, }
\item[{Vk\+Format}]{depth\+Format}
\end{DoxyParamCaption}
)}\hypertarget{class_w_render_target_afd4e209874b0d57f3835d965219524ed}{}\label{class_w_render_target_afd4e209874b0d57f3835d965219524ed}
Create a render target backed by Vk\+Image\+Views (such as the frame buffer). This render target will have 1 attachment for color and one attachment for depth. This function will create as many frame buffers as num\+\_\+views. 
\begin{DoxyParams}{Parameters}
{\em width} & Width of the render target \\
\hline
{\em height} & Height of the render target \\
\hline
{\em views} & An array of Vk\+Image\+Views to back the render target \\
\hline
{\em num\+\_\+views} & Number of views in views \\
\hline
{\em color\+Format} & Color format for the render target \\
\hline
{\em depth\+Format} & Depth format for the render target \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!End@{End}}
\index{End@{End}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{End(bool b\+Submit=true)}{End(bool bSubmit=true)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Render\+Target\+::\+End (
\begin{DoxyParamCaption}
\item[{bool}]{b\+Submit = {\ttfamily true}}
\end{DoxyParamCaption}
)}\hypertarget{class_w_render_target_abfd66b4b2d515afa49b50931f6593608}{}\label{class_w_render_target_abfd66b4b2d515afa49b50931f6593608}
End recording renders on this render target. 
\begin{DoxyParams}{Parameters}
{\em b\+Submit} & When set to true, recorded renders will be submitted to the Vulkan graphics queue and thus will be reflected on the backing \hyperlink{class_w_image}{W\+Image} of Vk\+Image\+Views \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Get\+Camera@{Get\+Camera}}
\index{Get\+Camera@{Get\+Camera}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Get\+Camera() const }{GetCamera() const }}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Camera} $\ast$ W\+Render\+Target\+::\+Get\+Camera (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_w_render_target_a9387870adbd5924c46b003f8c17c4a59}{}\label{class_w_render_target_a9387870adbd5924c46b003f8c17c4a59}
Retrieve the camera for this render target. \begin{DoxyReturn}{Returns}
Pointer to the camera of this render target 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Get\+Commnad\+Buffer@{Get\+Commnad\+Buffer}}
\index{Get\+Commnad\+Buffer@{Get\+Commnad\+Buffer}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Get\+Commnad\+Buffer() const }{GetCommnadBuffer() const }}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Command\+Buffer W\+Render\+Target\+::\+Get\+Commnad\+Buffer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_w_render_target_a874520933dec63ca3ceeadb209f07628}{}\label{class_w_render_target_a874520933dec63ca3ceeadb209f07628}
Retrieves the command buffer onto which rendering should occur to happen on this render target. \begin{DoxyReturn}{Returns}
Handle of the rendering command buffer for this render target 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Get\+Pipeline\+Cache@{Get\+Pipeline\+Cache}}
\index{Get\+Pipeline\+Cache@{Get\+Pipeline\+Cache}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Get\+Pipeline\+Cache() const }{GetPipelineCache() const }}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Pipeline\+Cache W\+Render\+Target\+::\+Get\+Pipeline\+Cache (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_w_render_target_a3058918a5781515e879d223f5bfc1269}{}\label{class_w_render_target_a3058918a5781515e879d223f5bfc1269}
Retrieves the pipeline cache associated with this render target. \begin{DoxyReturn}{Returns}
Handle of the pipeline cache for this render target 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Get\+Render\+Pass@{Get\+Render\+Pass}}
\index{Get\+Render\+Pass@{Get\+Render\+Pass}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Get\+Render\+Pass() const }{GetRenderPass() const }}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Render\+Pass W\+Render\+Target\+::\+Get\+Render\+Pass (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\hypertarget{class_w_render_target_a059363651803990bb775610814ee2a3b}{}\label{class_w_render_target_a059363651803990bb775610814ee2a3b}
Retrieves the render pass associated with this render target. \begin{DoxyReturn}{Returns}
Handle of the render pass for this render target 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Set\+Camera@{Set\+Camera}}
\index{Set\+Camera@{Set\+Camera}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Set\+Camera(class W\+Camera $\ast$cam)}{SetCamera(class WCamera *cam)}}]{\setlength{\rightskip}{0pt plus 5cm}void W\+Render\+Target\+::\+Set\+Camera (
\begin{DoxyParamCaption}
\item[{class {\bf W\+Camera} $\ast$}]{cam}
\end{DoxyParamCaption}
)}\hypertarget{class_w_render_target_a232081b0e953993dbedf3d647f900a92}{}\label{class_w_render_target_a232081b0e953993dbedf3d647f900a92}
Sets the camera that will be used when things are rendered using this render target. 
\begin{DoxyParams}{Parameters}
{\em cam} & Camera to use \\
\hline
\end{DoxyParams}
\index{W\+Render\+Target@{W\+Render\+Target}!Set\+Clear\+Color@{Set\+Clear\+Color}}
\index{Set\+Clear\+Color@{Set\+Clear\+Color}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Set\+Clear\+Color(\+W\+Color col)}{SetClearColor(WColor col)}}]{\setlength{\rightskip}{0pt plus 5cm}void W\+Render\+Target\+::\+Set\+Clear\+Color (
\begin{DoxyParamCaption}
\item[{{\bf W\+Color}}]{col}
\end{DoxyParamCaption}
)}\hypertarget{class_w_render_target_acfa19fb6b4cde2583b4e033436d29327}{}\label{class_w_render_target_acfa19fb6b4cde2583b4e033436d29327}
Sets the color to use when the render target is cleared upon calling \hyperlink{class_w_render_target_a0702142781a9d85df02f7fe032401956}{Begin()}. 
\begin{DoxyParams}{Parameters}
{\em col} & Clear color to use \\
\hline
\end{DoxyParams}
\index{W\+Render\+Target@{W\+Render\+Target}!Use\+Frame\+Buffer@{Use\+Frame\+Buffer}}
\index{Use\+Frame\+Buffer@{Use\+Frame\+Buffer}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Use\+Frame\+Buffer(unsigned int index)}{UseFrameBuffer(unsigned int index)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf W\+Error} W\+Render\+Target\+::\+Use\+Frame\+Buffer (
\begin{DoxyParamCaption}
\item[{unsigned int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{class_w_render_target_a1110348b8fb60a856f4021acfbd40523}{}\label{class_w_render_target_a1110348b8fb60a856f4021acfbd40523}
For the next render between \hyperlink{class_w_render_target_a0702142781a9d85df02f7fe032401956}{Begin()} and \hyperlink{class_w_render_target_abfd66b4b2d515afa49b50931f6593608}{End()}, use the frame buffer at index. A render target may have several frame buffers. 
\begin{DoxyParams}{Parameters}
{\em index} & Index of the frame buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Error code, see \hyperlink{_w_error_8h}{W\+Error.\+h} 
\end{DoxyReturn}
\index{W\+Render\+Target@{W\+Render\+Target}!Valid@{Valid}}
\index{Valid@{Valid}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{Valid() const }{Valid() const }}]{\setlength{\rightskip}{0pt plus 5cm}bool W\+Render\+Target\+::\+Valid (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_w_render_target_a47887a7010f64e5c16634d47eb6923a9}{}\label{class_w_render_target_a47887a7010f64e5c16634d47eb6923a9}
Checks the validity of this render target. A render target is valid when it has at least one frame buffer. \begin{DoxyReturn}{Returns}
true if the render target is valid, false otherwise 
\end{DoxyReturn}


Implements \hyperlink{class_w_base_a76ac973ba9a43e182f6a6a4869d69725}{W\+Base}.



\subsection{Member Data Documentation}
\index{W\+Render\+Target@{W\+Render\+Target}!image@{image}}
\index{image@{image}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{image}{image}}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Image W\+Render\+Target\+::image}\hypertarget{class_w_render_target_a6e26c20bd2f97f3ad456f3569e9f158a}{}\label{class_w_render_target_a6e26c20bd2f97f3ad456f3569e9f158a}
Depth image buffer \index{W\+Render\+Target@{W\+Render\+Target}!mem@{mem}}
\index{mem@{mem}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{mem}{mem}}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Device\+Memory W\+Render\+Target\+::mem}\hypertarget{class_w_render_target_abe198c49d2a4cc260ce6af8b978546cc}{}\label{class_w_render_target_abe198c49d2a4cc260ce6af8b978546cc}
Memory backing the depth image \index{W\+Render\+Target@{W\+Render\+Target}!view@{view}}
\index{view@{view}!W\+Render\+Target@{W\+Render\+Target}}
\subsubsection[{\texorpdfstring{view}{view}}]{\setlength{\rightskip}{0pt plus 5cm}Vk\+Image\+View W\+Render\+Target\+::view}\hypertarget{class_w_render_target_a0739084d5d75bd1afa99c2ead6fef02e}{}\label{class_w_render_target_a0739084d5d75bd1afa99c2ead6fef02e}
Depth image view 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Wasabi/\+Images/\hyperlink{_w_render_target_8h}{W\+Render\+Target.\+h}\item 
Wasabi/\+Images/W\+Render\+Target.\+cpp\end{DoxyCompactItemize}
